{% extends "layouts/admin_layout.html" %}
{% block styles %}

{% endblock %}
{% block content %}

    <table id="users" class="table table-hover table-striped">
        <thead>
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Phone</th>
        </tr>
        </thead>
        <tfoot>
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Balance</th>
        </tr>
        </tfoot>
    </table>

{% endblock %}

{% block scripts %}

    <script>

        $(document).ready(function () {
            $.ajax({
                url: "http://localhost:5000/users-list",
                dataType: 'json',
                crossDomain: true,
                xhrFields: {
                    withCredentials: true
                },
                success: function (response) {
                    $('#users').DataTable({
                        "data": response,
                        "columns": [
                            {"data": "id"},
                            {"data": "username"},
                            {"data": "firstname"},
                            {"data": "lastname"},
                            {"data": "email"},
                            {"data": "phone"},
                            {"data": "balance"}
                        ]
                    });
                    console.log(response)
                }
            });

        });

    </script>

{% endblock %}