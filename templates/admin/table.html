{% extends "layouts/admin_layout.html" %}
{% block styles %}

    {#    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.css"/>#}
{% endblock %}
{% block content %}

{#    <div class="col-md-12">#}
{#        <div class="card">#}
{#            <div class="header">#}
{#                <h4 class="title">Striped Table with Hover</h4>#}
{#                <p class="category">Here is a subtitle for this table</p>#}
{#            </div>#}
{#            <div class="content table-responsive table-full-width">#}
{#                <table id="users" class="table table-hover table-striped">#}
{#                    <thead>#}
{#                    <tr>#}
{#                        <th>ID</th>#}
{#                        <th>Username</th>#}
{#                        <th>First Name</th>#}
{#                        <th>Last Name</th>#}
{#                        <th>Email</th>#}
{#                        <th>Phone</th>#}
{#                    </tr>#}
{#                    </thead>#}
{##}
{#                </table>#}
{##}
{#            </div>#}
{#        </div>#}
{#    </div>#}

    <table id="example" class="display" style="width:100%">
        <thead>
            <tr>
                <th>ID</th>
                <th>Username</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone</th>
            </tr>
        </thead>
    </table>

{% endblock %}

{% block scripts %}
    <script>

        $(document).ready(function () {
            $.ajax({
                url: "http://localhost:5000/users-list",
                dataType: 'json',
                crossDomain: true,
                xhrFields: {
                   withCredentials: true
                },
                success: function(response){
                     $('#example').DataTable({
                "data": response,
                "columns": [
                    {"data": "id"},
                    {"data": "username"},
                    {"data": "firstname"},
                    {"data": "lastname"},
                    {"data": "email"},
                    {"data": "phone"}
                ]
            });
                    console.log(response)
                }
            });

        });

    </script>


{% endblock %}